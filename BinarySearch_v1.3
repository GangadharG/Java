/* Java program to find count of a number in sorted list*/
public class BinarySearch {

	public static void main(String[] args){
		
		// binary search assumes input array is sorted
		int a[] = {1, 1, 3, 3, 5, 5, 5, 5, 5, 9, 9, 11};
		int x =5;	// find the count of number 5
		int firstIndex	= binarySearch(a, x, true);	// true => search for first occurrence
		if(firstIndex == -1){
			System.out.println("The count is 0");
		}
		else{
			int lastIndex = binarySearch(a, x, false);	// false => search for last occurrence
			System.out.println("count is "+(lastIndex-firstIndex+1));
		}
	}
	
	static int binarySearch(int[] a, int x, boolean flag){
		int start = 0, end = a.length-1;
		int result = -1;
		while(start<=end){
			int mid = (start+end)/2;
			if(a[mid] == x){
				result = mid;
				if(flag == true)
					end = mid-1; // search towards left
				else
					start = mid+1; // search towards right
			}
			else if(x < a[mid])
				end = mid-1;
			else
				start = mid+1;
		}
		return result;
	}
}
